<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Profile - Amazing Model Store</title>
    <link rel="stylesheet" th:href="@{/css/useraccount.css}" />
</head>
<body>
	<div>
	  <h1>YOUR PROFILE</h1>
	</div>
	
		<div class="border">
			<div class="container"><h4>Username</h4></div>
			  <div class="space" th:text="${user.firstName + ' ' + user.lastName}"></div>
		</div>
		
	  <div class="border">
		  <div class="container"><h4>Your address:</h4></div>
		    <div class="space" th:text="${address.street + ' ' + address.number + ' ' + address.city + ' ' + address.state}"></div>
		    <div class="space"><a class="btn" th:href="@{'/addressof' + '/' + ${user.id}}">Change address</a></div>
	  </div>
	  
	  <div>
	    <div class="border">
	    	<div class="space"> <h4>Your past orders:</h4></div>
	      <ul>
		   <li th:each="order : ${orders}">
		     <div class="space" th:text="${order.dateTime}"></div>
			 <div class="space"><div class="space"><h4>Products:</h4></div>
			   <ul>
			     <li th:each="productChosen : ${order.products}">
			     <ul>
			       <li th:each="product : ${productChosen.product}">
			         <div class="space" th:text="${product.name}"></div>
			       </li>
			     </ul>
			       <div class="space"><h4>Unit price: </h4>
			         <div class="space" th:text="${productChosen.price + '€'}"></div>
			       </div>
			        <div class="space"><h4>Quantity chosen:</h4> 
			       <div class="space" th:text="${productChosen.quantityChosen}"></div>
			        </div>
			     </li> 
			   </ul>
			 </div>
			 <div class="space"><h4>Total: </h4></div>
			 <div class="space" th:text="${order.total + '€'}">...</div>
			</li>
		  </ul>
	    </div>
	    <div class="container"><a class="btn" th:href="@{/tohome}">HOMEPAGE</a></div>
	  </div>
</body>
</html>